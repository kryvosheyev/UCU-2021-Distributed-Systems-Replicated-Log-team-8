<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="821px" height="1221px" viewBox="-0.5 -0.5 821 1221" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-10-13T21:58:55.845Z&quot; agent=&quot;5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36&quot; version=&quot;15.5.2&quot; etag=&quot;9DN8Y-7cDWULzm9pkEYg&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;rgyxuDLgJkipeVFG4_hI&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="0" y="0" width="820" height="170" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 818px; height: 1px; padding-top: 85px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span id="docs-internal-guid-1c3bc2f9-7fff-4751-e7f0-3610d2d20af6"><p dir="ltr" style="line-height: 1.38 ; margin-top: 0pt ; margin-bottom: 0pt"><span style="font-size: 11pt ; font-family: &quot;arial&quot; ; vertical-align: baseline">  --------------------------------- <b><font color="#14ba2b" style="background-color: transparent"> </font><span style="background-color: rgb(255 , 255 , 51)">Replicated Log 1</span></b><span style="background-color: rgb(255 , 255 , 51)"> </span>----------------------------------</span></p><p dir="ltr" style="line-height: 1.38 ; margin-top: 0pt ; margin-bottom: 0pt"><span style="font-size: 11pt ; font-family: &quot;arial&quot; ; background-color: transparent ; vertical-align: baseline">Properties and assumptions:</span></p><ul style="margin-top: 0 ; margin-bottom: 0"><li dir="ltr" style="list-style-type: disc ; font-size: 11pt ; font-family: &quot;arial&quot; ; background-color: transparent ; vertical-align: baseline"><p dir="ltr" style="line-height: 1.38 ; margin-top: 0pt ; margin-bottom: 0pt"><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline">after each POST request, the message should be replicated on every </span><span style="font-size: 11pt ; background-color: transparent ; font-style: italic ; vertical-align: baseline">Secondary</span><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline"> server</span></p></li><li dir="ltr" style="list-style-type: disc ; font-size: 11pt ; font-family: &quot;arial&quot; ; background-color: transparent ; vertical-align: baseline"><p dir="ltr" style="line-height: 1.38 ; margin-top: 0pt ; margin-bottom: 0pt"><span style="font-size: 11pt ; background-color: transparent ; font-style: italic ; vertical-align: baseline">Master</span><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline"> should ensure that </span><span style="font-size: 11pt ; background-color: transparent ; font-style: italic ; vertical-align: baseline">Secondaries</span><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline"> have received a message via </span><span style="font-size: 11pt ; background-color: transparent ; font-style: italic ; vertical-align: baseline">ACK</span></p></li><li dir="ltr" style="list-style-type: disc ; font-size: 11pt ; font-family: &quot;arial&quot; ; background-color: transparent ; vertical-align: baseline"><p dir="ltr" style="line-height: 1.38 ; margin-top: 0pt ; margin-bottom: 0pt"><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline">POST request should be finished only after receiving </span><span style="font-size: 11pt ; background-color: transparent ; font-style: italic ; vertical-align: baseline">ACKs</span><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline"> from all </span><span style="font-size: 11pt ; background-color: transparent ; font-style: italic ; vertical-align: baseline">Secondaries</span><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline"> (blocking replication approach)</span></p></li><li dir="ltr" style="list-style-type: disc ; font-size: 11pt ; font-family: &quot;arial&quot; ; background-color: transparent ; vertical-align: baseline"><p dir="ltr" style="line-height: 1.38 ; margin-top: 0pt ; margin-bottom: 0pt"><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline">to test that the replication is blocking, introduce the delay/sleep on the </span><span style="font-size: 11pt ; background-color: transparent ; font-style: italic ; vertical-align: baseline">Secondary</span></p></li><li dir="ltr" style="list-style-type: disc ; font-size: 11pt ; font-family: &quot;arial&quot; ; background-color: transparent ; vertical-align: baseline"><p dir="ltr" style="line-height: 1.38 ; margin-top: 0pt ; margin-bottom: 0pt"><span style="font-size: 11pt ; background-color: transparent ; vertical-align: baseline">at this stage assume that the communication channel is a perfect link (no failures and messages lost)</span></p></li></ul></span></div></div></div></foreignObject><text x="2" y="89" fill="#000000" font-family="Helvetica" font-size="12px">---------------------------------  Replicated Log 1 ----------------------------------...</text></switch></g><rect x="370" y="275" width="50" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 295px; margin-left: 371px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">M</div></div></div></foreignObject><text x="395" y="299" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">M</text></switch></g><rect x="520" y="330" width="50" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 350px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">S2</div></div></div></foreignObject><text x="545" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">S2</text></switch></g><rect x="520" y="220" width="50" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 240px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">S1</div></div></div></foreignObject><text x="545" y="244" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">S1</text></switch></g><rect x="10" y="445" width="270" height="95" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 268px; height: 1px; padding-top: 493px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">M receives an object:<br />POST  /master/add-message<br />body {   msg: <span style="color: rgb(51 , 51 , 51)"> {  property1: "any-value",</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">                          arr: [] } </span>,  // any  object<br />             options: {}   // will need for log 2, log 3<br />        }</div></div></div></foreignObject><text x="12" y="496" fill="#000000" font-family="Helvetica" font-size="12px">M receives an object:...</text></switch></g><rect x="160" y="205" width="160" height="95" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 158px; height: 1px; padding-top: 253px; margin-left: 162px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span>config: {<br /></span>secondaries: [<br />  {  url: '127.0.0.1:6001'  },<br />  {  url: '127.0.0.1:6002'  }<br /> }<br />}</div></div></div></foreignObject><text x="162" y="256" fill="#000000" font-family="Helvetica" font-size="12px">config: {...</text></switch></g><rect x="600" y="190" width="140" height="70" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 225px; margin-left: 602px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">config:{<br />   delayMin = 1000,<br />   delayMax = 3000,<br />}</div></div></div></foreignObject><text x="602" y="229" fill="#000000" font-family="Helvetica" font-size="12px">config:{...</text></switch></g><rect x="75" y="820" width="285" height="100" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 283px; height: 1px; padding-top: 870px; margin-left: 77px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><br />   await promiseAll( sendToS1 (rLogMsg )<br />    to sendToSn).<br />   <br />  <span style="font-family: &quot;consolas&quot;">res.status(200).send({</span><span style="font-family: &quot;consolas&quot;">})</span></div></div></div></foreignObject><text x="77" y="874" fill="#000000" font-family="Helvetica" font-size="12px">await promiseAll( sendToS1 (rLogMsg )...</text></switch></g><rect x="550" y="770" width="230" height="140" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 228px; height: 1px; padding-top: 840px; margin-left: 552px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><br />S receives an object:<br />POST  /secondary/add-message<br />in rLogMsg format<br /><span style="color: rgb(51 , 51 , 51)">   body= {</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">          inc_id: 1,</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">          msg: </span><span style="color: rgb(51 , 51 , 51)"> {  property1: "any-value",</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">                          arr: [] <br />                    }</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">     }</span></div></div></div></foreignObject><text x="552" y="844" fill="#000000" font-family="Helvetica" font-size="12px">S receives an object:...</text></switch></g><rect x="80" y="590" width="260" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 258px; height: 1px; padding-top: 615px; margin-left: 82px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">rLogMsg = getNewRLogMsg( msg)<br /><span style="color: rgb(51 , 51 , 51)">storage</span>.add( rLogMsg )</div></div></div></foreignObject><text x="82" y="619" fill="#000000" font-family="Helvetica" font-size="12px">rLogMsg = getNewRLogMsg( msg)...</text></switch></g><rect x="160" y="660" width="190" height="110" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 715px; margin-left: 162px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">getNewRLogMsg( msg) {<br />    n = storage.size()<br />    r = {<br />          inc_id: n,<br />          msg: msg<br />     }<br />}</div></div></div></foreignObject><text x="162" y="719" fill="#333333" font-family="Helvetica" font-size="12px">getNewRLogMsg( msg) {...</text></switch></g><rect x="600" y="920" width="190" height="95" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 968px; margin-left: 602px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">storage.add( rLogMsg )<br /><pre style="font-family: &quot;consolas&quot;">res.status(200).send({<br />  IS_FAILED: 0<br />})</pre></div></div></div></foreignObject><text x="602" y="971" fill="#000000" font-family="Helvetica" font-size="12px">storage.add( rLogMsg )...</text></switch></g><path d="M 370 285 L 320 252.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 570 230 L 600 225" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 607.5 770 L 557.5 370" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 211.9 445 L 395 315" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 360 845 L 543.77 806.31" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.91 805.23 L 542.78 810.1 L 543.77 806.31 L 541.34 803.25 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 600 991.25 L 365.91 897.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 361.04 895.42 L 368.84 894.77 L 365.91 897.37 L 366.23 901.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 145 540 L 145 583.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 145 588.88 L 141.5 581.88 L 145 583.63 L 148.5 581.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 145 640 L 146.21 813.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 146.24 818.88 L 142.69 811.91 L 146.21 813.63 L 149.69 811.86 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="380" y="390" width="420" height="290" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 535px; margin-left: 382px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">storage =  [<br />   <span style="color: rgb(51 , 51 , 51)">{</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">          inc_id: 1,</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">          msg: </span><span style="color: rgb(51 , 51 , 51)"> {  property1: "any-value",</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">                          arr: []<br />                    }</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">     },<br /></span><br /><span style="color: rgb(51 , 51 , 51)">    {</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">          inc_id: 2,</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">          msg: </span><span style="color: rgb(51 , 51 , 51)"> {  property1: "any-value" </span><span style="color: rgb(51 , 51 , 51)"> }</span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">     }</span><br /><br />]<br /><br />//custom functions<br />storage.add()<br />storage.getAllClientMessages()<br />storage.getAll</div></div></div></foreignObject><text x="382" y="539" fill="#000000" font-family="Helvetica" font-size="12px">storage =  [...</text></switch></g><rect x="550" y="1080" width="230" height="140" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 228px; height: 1px; padding-top: 1150px; margin-left: 552px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><br />S returns all messages<br />GET  /secondary/get-all-messages<br />in user msg format<br /><span style="color: rgb(51 , 51 , 51)">   body={ <br />      messages: [ </span><br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">         {   m</span><span style="color: rgb(51 , 51 , 51)">sg: </span><span style="color: rgb(51 , 51 , 51)"> { </span><span style="color: rgb(51 , 51 , 51)">}  },<br />        </span><span style="color: rgb(51 , 51 , 51)"> {   m</span><span style="color: rgb(51 , 51 , 51)">sg: </span><span style="color: rgb(51 , 51 , 51)"> { </span><span style="color: rgb(51 , 51 , 51)">}  },</span><span style="color: rgb(51 , 51 , 51)"><br /></span>      ]<br style="color: rgb(51 , 51 , 51)" /><span style="color: rgb(51 , 51 , 51)">   }        </span></div></div></div></foreignObject><text x="552" y="1154" fill="#000000" font-family="Helvetica" font-size="12px">S returns all messages...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>